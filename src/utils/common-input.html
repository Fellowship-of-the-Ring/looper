<link rel="import" href="../../bower_components/polymer/polymer-element.html">
<dom-module id="common-input">
    <template>
        <style include="shared-styles">
         :host {
             display: inline-block;
         }
         iron-input[invalid] > input {
             border: 1px solid red;
             background-color: #FFCDD2;
         }
        </style>
            [[lable]]
            <iron-input auto-validate validator="[[validator]]">
                <input placeholder="[[placeHolder]]" value="{{value::input}}">
            </iron-input>
            <slot name="postfix"></slot>
    </template>
    <script>
    class CommonInput extends Polymer.Element {
        static get is() { return 'common-input'; }

        static get properties() {
            return {
                value: {
                    type: Number,
                    notify: true,
                    observer: '_update',
                    value: 0
                },
                lable: {
                    type: String,
                    notify: true,
                    observer: '_update',
                    value: 0
                },
                placeHolder: {
                    type: String,
                    notify: true,
                    observer: '_update',
                    value: 0
                },
                validator: {
                    type: Function,
                    observer: '_changed',
                }
            };
        }

        ready(){
            super.ready()
            console.log("common-input:"+this.validator)
        }

        _update() {
            console.log("inner:"+this.value)
        }

        _changed(){
            console.log("inner validator set value:"+this.validator)
        }
    }

    window.customElements.define(CommonInput.is, CommonInput);
    </script>
</dom-module>